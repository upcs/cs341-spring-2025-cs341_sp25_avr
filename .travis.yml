language: node_js
node_js:
  - "18"
os: windows

before_install:
  - cd initialApp

install:
  - npm install
  - npm install cross-env --no-save
  - npm install codecov --no-save

script:
  - npm test || echo "Tests failed, proceeding to upload coverage"
  - echo "Debugging coverage output"
  - ls -R coverage || echo "Coverage directory not found"
  - cat coverage/lcov.info || echo "lcov.info file not found"
  - if [ -f coverage/lcov.info ]; then
      echo "Coverage file found, uploading with bash uploader...";
      curl -s https://codecov.io/bash | bash -s -- -f coverage/lcov.info || echo "Codecov upload failed";
    else
      echo "Coverage file missing, skipping upload.";
      exit 1;
    fi


